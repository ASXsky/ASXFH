<!DOCTYPE html>
<html style="font-size: 100px;">
<head>
    <meta charset="UTF-8">
    <title>站点提示</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="wap-font-scale" content="no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <style>
        .fc_jt { text-align: center; padding-top: 1rem; }
        .fc_wz { text-align: center; font-size: 0.24rem; color: #666; line-height: 0.4rem; padding: 0.4rem 0; }
        .fc_tp { text-align: center; padding: 0 0.5rem; }
        .fc_tp img { max-width: 100%; height: auto; }
        .Pan_WX { display: none; }
    </style>
</head>
<body style="background-color: #f5f5f5;">
    <!-- QQ提示 -->
    <div id="qq-panel" class="Pan_WX">
        <div class="fc_jt"><img src="img/jt.png"></div>
        <div class="fc_wz">点击右上角【...】<br>使用浏览器打开</div>
        <div class="fc_tp"><img src="img/qq.png"></div>
    </div>

    <!-- 微信提示 -->
    <div id="wx-panel" class="Pan_WX">
        <div class="fc_jt"><img src="img/jt.png"></div>
        <div class="fc_wz">点击右上角【...】<br>使用浏览器打开</div>
        <div class="fc_tp"><img src="img/wx_az.png"></div>
    </div>

    <script>
        // 增强版浏览器检测
        function checkBrowser() {
            const ua = navigator.userAgent;
            const target = 'https://www.tvs1.vip/?from=github';

            // 调试用UA输出
            console.log('UserAgent:', ua);

            /** 检测优先级：
             * 1. 微信环境检测
             * 2. QQ内置浏览器检测
             * 3. 其他浏览器跳转
             */
            
            // 微信环境检测（包含桌面微信内置浏览器）
            if (/MicroMessenger/i.test(ua)) {
                console.log('检测到微信环境');
                document.getElementById('wx-panel').style.display = 'block';
                return;
            }

            // QQ浏览器检测（包含手机QQ内置浏览器和QQ浏览器APP）
            if (/(QQ\/|MQQBrowser)/i.test(ua)) {
                console.log('检测到QQ浏览器');
                document.getElementById('qq-panel').style.display = 'block';
                return;
            }

            // 特殊处理：UC浏览器内核的QQ访问
            if (/UCBrowser/i.test(ua) && / qq\//i.test(ua)) {
                console.log('检测到UC内核QQ访问');
                document.getElementById('qq-panel').style.display = 'block';
                return;
            }

            // 其他情况直接跳转
            window.location.href = target;
        }

        // 页面初始化
        window.addEventListener('load', () => {
            checkBrowser();
            // 字体大小适配
            const setRootFontSize = () => {
                document.documentElement.style.fontSize = 
                    document.body.clientWidth / 15 + 'px';
            }
            setRootFontSize();
            window.addEventListener('resize', setRootFontSize);
        });
    </script>
</body>
</html>
